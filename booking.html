<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salon Elegance | Book Appointment</title>
    <link rel="stylesheet" href="css/products-main.css">
    <link rel="stylesheet" href="css/booking.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-crown"></i>
                <span>Salon</span>Elegance
            </a>
            
            <div class="nav-links">
                <a href="index.html"><i class="fas fa-home"></i> Home</a>
                <a href="products-services.html"><i class="fas fa-store"></i> Shop</a>
                <a href="booking.html" class="active"><i class="fas fa-calendar-check"></i> Book</a>
                <a href="#basket" class="basket-icon" id="basket-toggle">
                    <i class="fas fa-shopping-basket"></i>
                    <span class="basket-count" id="basket-count">0</span>
                </a>
            </div>
            
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="booking-container">
        <!-- Page Header -->
        <header class="page-header">
            <h1>Book an <span class="pink-text">Appointment</span></h1>
            <p>Schedule your beauty treatment with our professionals</p>
        </header>

        <!-- Booking Steps -->
        <div class="booking-steps">
            <div class="step active" data-step="1">
                <div class="step-number">1</div>
                <div class="step-text">Select Service</div>
            </div>
            <div class="step" data-step="2">
                <div class="step-number">2</div>
                <div class="step-text">Choose Date & Time</div>
            </div>
            <div class="step" data-step="3">
                <div class="step-number">3</div>
                <div class="step-text">Your Details</div>
            </div>
            <div class="step" data-step="4">
                <div class="step-number">4</div>
                <div class="step-text">Confirmation</div>
            </div>
        </div>

        <!-- Booking Form -->
        <form id="booking-form" class="booking-form">
            <!-- Step 1: Service Selection -->
            <div class="booking-step active" id="step-1">
                <h2><i class="fas fa-spa"></i> Select Service</h2>
                <p class="step-description">Choose from our professional beauty services</p>
                
                <div class="services-grid" id="services-grid">
                    <!-- Services loaded from backend -->
                    <div class="loading-spinner">
                        <div class="spinner"></div>
                        <p>Loading services...</p>
                    </div>
                </div>
                
                <div class="step-actions">
                    <button type="button" class="next-step" data-next="2">Next <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- Step 2: Date & Time -->
            <div class="booking-step" id="step-2">
                <h2><i class="fas fa-calendar-alt"></i> Choose Date & Time</h2>
                <p class="step-description">Select your preferred appointment slot</p>
                
                <div class="datetime-selection">
                    <div class="date-selection">
                        <label for="booking-date"><i class="fas fa-calendar"></i> Select Date</label>
                        <input type="text" id="booking-date" placeholder="Choose a date" readonly>
                        <small>We're open Mon-Sat, 8AM-8PM</small>
                    </div>
                    
                    <div class="time-slots" id="time-slots">
                        <label><i class="fas fa-clock"></i> Available Time Slots</label>
                        <div class="slots-grid">
                            <!-- Time slots will be generated here -->
                            <p class="no-slots">Please select a date first</p>
                        </div>
                    </div>
                </div>
                
                <div class="step-actions">
                    <button type="button" class="prev-step" data-prev="1"><i class="fas fa-arrow-left"></i> Back</button>
                    <button type="button" class="next-step" data-next="3">Next <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- Step 3: Personal Details -->
            <div class="booking-step" id="step-3">
                <h2><i class="fas fa-user"></i> Your Details</h2>
                <p class="step-description">Tell us how we can reach you</p>
                
                <div class="personal-details">
                    <div class="form-group">
                        <label for="customer-name"><i class="fas fa-user"></i> Full Name *</label>
                        <input type="text" id="customer-name" required placeholder="Enter your full name">
                    </div>
                    
                    <div class="form-group">
                        <label for="customer-phone"><i class="fas fa-phone"></i> Phone Number *</label>
                        <input type="tel" id="customer-phone" required placeholder="0700 000 000" value="0705455312">
                    </div>
                    
                    <div class="form-group">
                        <label for="customer-email"><i class="fas fa-envelope"></i> Email Address</label>
                        <input type="email" id="customer-email" placeholder="your@email.com">
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="special-notes"><i class="fas fa-sticky-note"></i> Special Requests</label>
                        <textarea id="special-notes" rows="3" placeholder="Any allergies, preferences, or special requirements..."></textarea>
                    </div>
                </div>
                
                <div class="appointment-summary">
                    <h4><i class="fas fa-clipboard-list"></i> Appointment Summary</h4>
                    <div class="summary-details">
                        <div class="summary-item">
                            <span>Service:</span>
                            <span id="summary-service">Not selected</span>
                        </div>
                        <div class="summary-item">
                            <span>Date:</span>
                            <span id="summary-date">Not selected</span>
                        </div>
                        <div class="summary-item">
                            <span>Time:</span>
                            <span id="summary-time">Not selected</span>
                        </div>
                        <div class="summary-item">
                            <span>Duration:</span>
                            <span id="summary-duration">-</span>
                        </div>
                        <div class="summary-item total">
                            <span>Price:</span>
                            <span id="summary-price">Ksh 0</span>
                        </div>
                    </div>
                </div>
                
                <div class="step-actions">
                    <button type="button" class="prev-step" data-prev="2"><i class="fas fa-arrow-left"></i> Back</button>
                    <button type="button" class="next-step" data-next="4">Review Booking <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- Step 4: Confirmation -->
            <div class="booking-step" id="step-4">
                <h2><i class="fas fa-check-circle"></i> Confirm Booking</h2>
                <p class="step-description">Review and confirm your appointment</p>
                
                <div class="confirmation-details">
                    <div class="confirmation-card">
                        <div class="confirmation-header">
                            <i class="fas fa-calendar-check"></i>
                            <h3>Appointment Details</h3>
                        </div>
                        <div class="confirmation-body">
                            <div class="detail-row">
                                <i class="fas fa-spa"></i>
                                <div>
                                    <strong>Service</strong>
                                    <p id="confirm-service">-</p>
                                </div>
                            </div>
                            <div class="detail-row">
                                <i class="fas fa-calendar-alt"></i>
                                <div>
                                    <strong>Date & Time</strong>
                                    <p id="confirm-datetime">-</p>
                                </div>
                            </div>
                            <div class="detail-row">
                                <i class="fas fa-user"></i>
                                <div>
                                    <strong>Customer</strong>
                                    <p id="confirm-customer">-</p>
                                </div>
                            </div>
                            <div class="detail-row">
                                <i class="fas fa-phone"></i>
                                <div>
                                    <strong>Contact</strong>
                                    <p id="confirm-contact">-</p>
                                </div>
                            </div>
                            <div class="detail-row">
                                <i class="fas fa-money-bill-wave"></i>
                                <div>
                                    <strong>Amount Due</strong>
                                    <p class="confirm-price" id="confirm-price">Ksh 0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="booking-notes">
                        <h4><i class="fas fa-info-circle"></i> Important Notes</h4>
                        <ul>
                            <li>Please arrive 10 minutes before your appointment</li>
                            <li>Cancellations require 24 hours notice</li>
                            <li>Bring any reference photos for hairstyles</li>
                            <li>Payment is due at the time of service</li>
                        </ul>
                    </div>
                </div>
                
                <div class="confirmation-actions">
                    <button type="button" class="prev-step" data-prev="3"><i class="fas fa-arrow-left"></i> Back</button>
                    <button type="submit" class="submit-booking">
                        <i class="fas fa-paper-plane"></i> Confirm & Book Appointment
                    </button>
                </div>
            </div>
        </form>

        <!-- Booking Success Modal -->
        <div class="modal-overlay" id="success-modal">
            <div class="modal-content success-modal">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>Appointment Booked Successfully! ðŸŽ‰</h3>
                <p id="success-message">Your appointment has been confirmed.</p>
                
                <div class="success-details">
                    <p><strong>Reference #:</strong> <span id="booking-reference">-</span></p>
                    <p><strong>Date:</strong> <span id="success-date">-</span></p>
                    <p><strong>Time:</strong> <span id="success-time">-</span></p>
                </div>
                
                <div class="success-actions">
                    <button class="action-btn" id="add-to-calendar">
                        <i class="fas fa-calendar-plus"></i> Add to Calendar
                    </button>
                    <button class="action-btn whatsapp-btn" id="whatsapp-reminder">
                        <i class="fab fa-whatsapp"></i> WhatsApp Reminder
                    </button>
                    <button class="action-btn secondary" id="new-booking">
                        <i class="fas fa-plus"></i> New Booking
                    </button>
                </div>
                
                <div class="success-note">
                    <p><i class="fas fa-info-circle"></i> You'll receive a confirmation SMS shortly</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4><i class="fas fa-crown"></i> Salon Elegance</h4>
                <p>Premium beauty services by appointment</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-whatsapp"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="tel:0705455312"><i class="fas fa-phone"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>Working Hours</h4>
                <p><strong>Mon - Fri:</strong> 8:00 AM - 8:00 PM</p>
                <p><strong>Saturday:</strong> 9:00 AM - 6:00 PM</p>
                <p><strong>Sunday:</strong> Closed</p>
            </div>
            
            <div class="footer-section">
                <h4>Location</h4>
                <p><i class="fas fa-map-marker-alt"></i> Nairobi, Kenya</p>
                <p><i class="fas fa-phone"></i> 0705 455 312</p>
                <p><i class="fas fa-envelope"></i> info@salonelegance.com</p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 Salon Elegance. All appointments subject to availability.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="js/booking.js"></script>
</body>
</html>
