<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Nyeri Beauty Salon</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/admin-dashboard.css">
</head>
<body class="admin-body">
    <!-- Admin Sidebar -->
    <div class="admin-sidebar" id="admin-sidebar">
        <div class="sidebar-header">
            <div class="admin-logo">Nyeri<span>Beauty</span> Admin</div>
            <button class="sidebar-toggle" id="sidebar-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <div class="sidebar-profile">
            <div class="profile-image">
                <i class="fas fa-user-shield"></i>
            </div>
            <div class="profile-info">
                <h4>Salon Manager</h4>
                <span>admin@nyeribeauty.co.ke</span>
            </div>
        </div>
        
        <nav class="sidebar-nav">
            <ul>
                <li>
                    <a href="#dashboard" class="active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="#products-management" data-section="products">
                        <i class="fas fa-box"></i>
                        <span>Products</span>
                    </a>
                </li>
                <li>
                    <a href="#services-management" data-section="services">
                        <i class="fas fa-spa"></i>
                        <span>Services</span>
                    </a>
                </li>
                <li>
                    <a href="#bookings-management" data-section="bookings">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Bookings</span>
                    </a>
                </li>
                <li>
                    <a href="#customers-management" data-section="customers">
                        <i class="fas fa-users"></i>
                        <span>Customers</span>
                    </a>
                </li>
                <li>
                    <a href="#gallery-management" data-section="gallery">
                        <i class="fas fa-images"></i>
                        <span>Gallery</span>
                    </a>
                </li>
                <li>
                    <a href="#settings" data-section="settings">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </a>
                </li>
                <li>
                    <a href="index.html">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Back to Website</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    <!-- Admin Main Content -->
    <div class="admin-main">
        <!-- Admin Header -->
        <header class="admin-header">
            <div class="header-left">
                <h1 id="page-title">Dashboard</h1>
            </div>
            <div class="header-right">
                <div class="header-notifications">
                    <button class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-count">3</span>
                    </button>
                </div>
                <div class="header-actions">
                    <button class="btn-primary" id="quick-add">
                        <i class="fas fa-plus"></i> Add New
                    </button>
                </div>
            </div>
        </header>

        <!-- Admin Content Sections -->
        <main class="admin-content">
            <!-- Dashboard Section -->
            <section class="admin-section active" id="dashboard-section">
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Total Products</h3>
                            <p id="total-products">12</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Today's Appointments</h3>
                            <p id="today-appointments">8</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Monthly Revenue</h3>
                            <p id="monthly-revenue">KSH 245,800</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Total Customers</h3>
                            <p id="total-customers">156</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-charts">
                    <div class="chart-card">
                        <h3>Revenue Overview</h3>
                        <div class="chart-container">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Popular Services</h3>
                        <div class="chart-container">
                            <canvas id="servicesChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="dashboard-tables">
                    <div class="table-card">
                        <div class="table-header">
                            <h3>Recent Bookings</h3>
                            <a href="#bookings-management" class="view-all">View All</a>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Customer</th>
                                        <th>Service</th>
                                        <th>Date</th>
                                        <th>Time</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="recent-bookings">
                                    <!-- Bookings will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="table-card">
                        <div class="table-header">
                            <h3>Low Stock Products</h3>
                            <a href="#products-management" class="view-all">View All</a>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Product</th>
                                        <th>Category</th>
                                        <th>Stock</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="low-stock-products">
                                    <!-- Products will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Products Management Section -->
            <section class="admin-section" id="products-section">
                <div class="section-header">
                    <h2>Products Management</h2>
                    <button class="btn-primary" id="add-product-btn">
                        <i class="fas fa-plus"></i> Add New Product
                    </button>
                </div>

                <div class="products-controls">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="product-search" placeholder="Search products...">
                    </div>
                    <div class="filter-options">
                        <select id="category-filter">
                            <option value="all">All Categories</option>
                            <option value="hair">Hair Care</option>
                            <option value="skin">Skincare</option>
                            <option value="makeup">Makeup</option>
                            <option value="nails">Nail Care</option>
                            <option value="tools">Tools</option>
                        </select>
                        <select id="stock-filter">
                            <option value="all">All Stock</option>
                            <option value="in-stock">In Stock</option>
                            <option value="low-stock">Low Stock</option>
                            <option value="out-of-stock">Out of Stock</option>
                        </select>
                    </div>
                </div>

                <div class="products-table-container">
                    <table class="products-table">
                        <thead>
                            <tr>
                                <th>Image</th>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Stock</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="products-table-body">
                            <!-- Products will be loaded here -->
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <button class="page-btn" disabled>
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="page-btn active">1</button>
                    <button class="page-btn">2</button>
                    <button class="page-btn">3</button>
                    <button class="page-btn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </section>

            <!-- Services Management Section -->
<section class="admin-section" id="services-section">
    <div class="section-header">
        <h2>Services Management</h2>
        <button class="btn-primary" id="add-service-btn">
            <i class="fas fa-plus"></i> Add New Service
        </button>
    </div>
                <!-- Services content will be added here -->
            </section>

            <!-- Bookings Management Section -->
            <section class="admin-section" id="bookings-section">
                <div class="section-header">
                    <h2>Bookings Management</h2>
                </div>
                <!-- Bookings content will be added here -->
            </section>



<!-- Settings Management Section -->
<section class="admin-section" id="settings-section">
    <div class="section-header">
        <h2>Settings</h2>
    </div>
    
    <div class="settings-tabs">
        <div class="tab-buttons">
            <button class="tab-btn active" data-tab="password">Password</button>
            <button class="tab-btn" data-tab="business">Business Info</button>
            <button class="tab-btn" data-tab="hours">Working Hours</button>
        </div>
        
        <!-- Password Tab -->
        <div class="tab-content active" id="password-tab">
            <div class="settings-card">
                <h3><i class="fas fa-lock"></i> Change Admin Password</h3>
                <form id="change-password-form">
                    <div class="form-group">
                        <label for="current-password">Current Password</label>
                        <div class="input-with-icon">
                            <i class="fas fa-key"></i>
                            <input type="password" id="current-password" required>
                            <button type="button" class="show-password-btn">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="new-password">New Password</label>
                        <div class="input-with-icon">
                            <i class="fas fa-key"></i>
                            <input type="password" id="new-password" required minlength="6">
                            <button type="button" class="show-password-btn">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <small>Minimum 6 characters</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="confirm-password">Confirm New Password</label>
                        <div class="input-with-icon">
                            <i class="fas fa-key"></i>
                            <input type="password" id="confirm-password" required>
                            <button type="button" class="show-password-btn">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" id="cancel-password">Cancel</button>
                        <button type="submit" class="btn-primary">Change Password</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Business Info Tab -->
        <div class="tab-content" id="business-tab">
            <div class="settings-card">
                <h3><i class="fas fa-store"></i> Business Information</h3>
                <form id="business-info-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="salon-name">Salon Name</label>
                            <input type="text" id="salon-name" value="GlamourGlow Salon">
                        </div>
                        <div class="form-group">
                            <label for="salon-phone">Phone Number</label>
                            <input type="tel" id="salon-phone" value="0705 455 312">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="salon-address">Address</label>
                        <textarea id="salon-address" rows="3">Nyeri Town Center, Nyeri, Kenya</textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="salon-email">Email</label>
                            <input type="email" id="salon-email" value="info@glamourglow.co.ke">
                        </div>
                        <div class="form-group">
                            <label for="salon-whatsapp">WhatsApp Number</label>
                            <input type="tel" id="salon-whatsapp" value="254705455312">
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" id="cancel-business">Reset</button>
                        <button type="submit" class="btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Working Hours Tab -->
        <div class="tab-content" id="hours-tab">
            <div class="settings-card">
                <h3><i class="fas fa-clock"></i> Working Hours</h3>
                <div class="hours-list" id="working-hours-list">
                    <!-- Hours will be loaded dynamically -->
                </div>
                <button class="btn-primary" id="save-hours-btn">
                    <i class="fas fa-save"></i> Save All Hours
                </button>
            </div>
        </div>
    </div>
    
    <!-- Demo Version Notice -->
    <div class="demo-notice glass-card">
        <div class="notice-header">
            <i class="fas fa-info-circle"></i>
            <h4>Demo Version Notice</h4>
        </div>
        <div class="notice-content">
            <p>This is a demo version. Changes reset on page refresh.</p>
            <p>To get the full version with permanent data storage:</p>
            <div class="contact-info">
                <p><i class="fas fa-envelope"></i> Email: your-email@example.com</p>
                <p><i class="fas fa-phone"></i> Phone: Your Phone Number</p>
            </div>
            <button class="btn-primary" id="contact-purchase">Contact for Purchase</button>
        </div>
    </div>
</section>





        </main>
    </div>

    <!-- Product Modal (For Add/Edit) -->
    <div class="admin-modal" id="product-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Add New Product</h3>
                <button class="close-modal" id="close-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="product-form">
                    <input type="hidden" id="product-id">
                    
                    <div class="form-group">
                        <label for="product-name">Product Name *</label>
                        <input type="text" id="product-name" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="product-category">Category *</label>
                            <select id="product-category" required>
                                <option value="">Select Category</option>
                                <option value="hair">Hair Care</option>
                                <option value="skin">Skincare</option>
                                <option value="makeup">Makeup</option>
                                <option value="nails">Nail Care</option>
                                <option value="tools">Tools</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="product-price">Price (KSH) *</label>
                            <input type="number" id="product-price" min="0" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="original-price">Original Price (KSH)</label>
                            <input type="number" id="original-price" min="0">
                        </div>
                        
                        <div class="form-group">
                            <label for="product-stock">Stock Quantity *</label>
                            <input type="number" id="product-stock" min="0" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="product-image">Image URL</label>
                        <input type="url" id="product-image" placeholder="https://example.com/image.jpg">
                        <small>Enter a valid image URL or leave blank for default</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="product-description">Description *</label>
                        <textarea id="product-description" rows="4" required></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="product-rating">Rating (0-5)</label>
                            <input type="number" id="product-rating" min="0" max="5" step="0.1">
                        </div>
                        
                        <div class="form-group">
                            <label for="product-badge">Badge</label>
                            <select id="product-badge">
                                <option value="">None</option>
                                <option value="Best Seller">Best Seller</option>
                                <option value="New">New</option>
                                <option value="Sale">Sale</option>
                                <option value="Hot">Hot</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" id="cancel-product">Cancel</button>
                        <button type="submit" class="btn-primary" id="save-product">Save Product</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
<!-- MOBILE MENU FOR ADMIN - FIXED VERSION -->
<div id="admin-mobile-menu" class="admin-mobile-menu">
    <button class="close-admin-menu">âœ•</button>
    
    <div class="admin-mobile-header">
        <h3><i class="fas fa-user-shield"></i> Admin Panel</h3>
    </div>
    
    <div class="admin-mobile-links">
        <a href="#" data-section="dashboard" class="mobile-nav-link active">
            <i class="fas fa-tachometer-alt"></i>
            <span>Dashboard</span>
        </a>
        <a href="#" data-section="products" class="mobile-nav-link">
            <i class="fas fa-box"></i>
            <span>Products</span>
        </a>
        <a href="#" data-section="bookings" class="mobile-nav-link">
            <i class="fas fa-calendar-check"></i>
            <span>Bookings</span>
        </a>
        <a href="#" data-section="customers" class="mobile-nav-link">
            <i class="fas fa-users"></i>
            <span>Customers</span>
        </a>
        <a href="index.html" class="mobile-nav-link">
            <i class="fas fa-home"></i>
            <span>View Website</span>
        </a>
        <a href="#" id="mobile-logout" class="mobile-nav-link">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
        </a>
    </div>
</div>

<!-- HAMBURGER BUTTON FOR MOBILE -->
<div class="admin-mobile-hamburger">
    <button id="admin-hamburger-btn">
        <i class="fas fa-bars"></i>
    </button>
</div>

<style>
    /* MOBILE MENU STYLES */
    .admin-mobile-hamburger {
        display: none;
        position: fixed;
        top: 15px;
        left: 15px;
        z-index: 1000;
    }
    
    #admin-hamburger-btn {
        background: var(--gradient-primary);
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        color: white;
        font-size: 20px;
        cursor: pointer;
        box-shadow: var(--shadow-lg);
    }
    
    .admin-mobile-menu {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 80%;
        max-width: 300px;
        height: 100vh;
        background: var(--navy-dark);
        z-index: 1002;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        box-shadow: 5px 0 15px rgba(0, 0, 0, 0.3);
    }
    
    .admin-mobile-menu.active {
        transform: translateX(0);
    }
    
    .close-admin-menu {
        position: absolute;
        top: 15px;
        right: 15px;
        background: transparent;
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
        z-index: 1003;
    }
    
    .admin-mobile-header {
        padding: 70px 20px 20px;
        background: linear-gradient(135deg, var(--primary-pink), var(--accent-gold));
        color: white;
    }
    
    .admin-mobile-links {
        padding: 20px;
    }
    
    .mobile-nav-link {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 15px;
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        border-radius: 10px;
        margin-bottom: 10px;
        transition: all 0.3s ease;
    }
    
    .mobile-nav-link:hover,
    .mobile-nav-link.active {
        background: rgba(255, 255, 255, 0.1);
        color: white;
    }
    
    .mobile-nav-link i {
        width: 20px;
        text-align: center;
    }
    
    .mobile-menu-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1001;
    }
    
    .mobile-menu-overlay.active {
        display: block;
    }
    
    /* Show on mobile only */
    @media (max-width: 768px) {
        .admin-mobile-hamburger {
            display: block;
        }
        
        /* Hide desktop sidebar on mobile */
        #admin-sidebar {
            display: none;
        }
        
        /* Adjust main content */
        .admin-main-content {
            margin-left: 0 !important;
            padding-top: 70px;
        }
    }
</style>

<script>
    // Mobile Menu JavaScript
    document.addEventListener('DOMContentLoaded', function() {
        const hamburgerBtn = document.getElementById('admin-hamburger-btn');
        const mobileMenu = document.getElementById('admin-mobile-menu');
        const closeBtn = document.querySelector('.close-admin-menu');
        const mobileLinks = document.querySelectorAll('.mobile-nav-link');
        const overlay = document.createElement('div');
        
        // Create overlay
        overlay.className = 'mobile-menu-overlay';
        document.body.appendChild(overlay);
        
        // Open menu
        hamburgerBtn.addEventListener('click', () => {
            mobileMenu.classList.add('active');
            overlay.classList.add('active');
            mobileMenu.style.display = 'block';
        });
        
        // Close menu
        function closeMobileMenu() {
            mobileMenu.classList.remove('active');
            overlay.classList.remove('active');
            setTimeout(() => {
                mobileMenu.style.display = 'none';
            }, 300);
        }
        
        closeBtn.addEventListener('click', closeMobileMenu);
        overlay.addEventListener('click', closeMobileMenu);
        
        // Mobile navigation
        mobileLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                if (this.getAttribute('href') === '#') {
                    e.preventDefault();
                    const section = this.getAttribute('data-section');
                    
                    // Update active link
                    mobileLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Switch section (use your existing function)
                    switchAdminSection(section);
                    
                    // Close menu
                    closeMobileMenu();
                }
            });
        });
        
        // Logout
        document.getElementById('mobile-logout').addEventListener('click', function(e) {
            e.preventDefault();
            sessionStorage.removeItem('admin_logged_in');
            window.location.href = 'index.html';
        });
    });
    
    // Function to switch sections (add to your existing code if not present)
    function switchAdminSection(section) {
        const sections = document.querySelectorAll('.admin-section');
        const navLinks = document.querySelectorAll('.sidebar-nav a[data-section]');
        
        // Hide all sections
        sections.forEach(sec => sec.classList.remove('active'));
        
        // Show selected section
        const targetSection = document.getElementById(`${section}-section`);
        if (targetSection) {
            targetSection.classList.add('active');
            
            // Update page title
            document.getElementById('page-title').textContent = 
                section === 'dashboard' ? 'Dashboard' :
                section === 'products' ? 'Products' :
                section === 'bookings' ? 'Bookings' :
                section === 'customers' ? 'Customers' : 'Dashboard';
            
            // If switching to products, refresh the table
            if (section === 'products') {
                loadProductsTable();
            }
        }
        
        // Update desktop nav too
        navLinks.forEach(link => {
            if (link.getAttribute('data-section') === section) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
    }
    </script>




       <style>
    /* Fix product table scrolling */
    #products-table-body {
        max-height: 400px;
        overflow-y: auto;
        display: block;
    }
    
    #products-table-body tr {
        display: table;
        width: 100%;
        table-layout: fixed;
    }
    
    /* Make table responsive on mobile */
    @media (max-width: 768px) {
        .products-table-container {
            overflow-x: auto;
        }
        
        .products-table {
            min-width: 600px;
        }
        
        .product-image-cell {
            width: 80px;
        }
        
        .action-buttons {
            display: flex;
            gap: 5px;
        }
        
        .btn-edit, .btn-delete {
            width: 35px;
            height: 35px;
            font-size: 14px;
        }
    }
    
    /* Pagination fix */
    .pagination {
        display: flex;
        justify-content: center;
        margin-top: 20px;
        flex-wrap: wrap;
        gap: 5px;
    }
    
    .page-btn {
        padding: 8px 15px;
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: white;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .page-btn.active,
    .page-btn:hover {
        background: var(--primary-pink);
    }
</style>
    <!-- JavaScript Files -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/main.js"></script>
    <script src="js/admin-dashboard.js"></script>
</body>

</html>

